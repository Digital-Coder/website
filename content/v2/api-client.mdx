# API Client

### Overview

API Client contains functions to call every API endpoint available Umami.

### Requirements

- [Node.js](https://nodejs.org/) version 14.18 or newer

### Install Yarn

```
npm install @umami/api-client
```

### Configure

The following environment variables are required to call your own API.

```
UMAMI_API_CLIENT_USER_ID
UMAMI_API_CLIENT_SECRET
UMAMI_API_CLIENT_ENDPOINT
```

To access Umami Cloud, these environment variables are required.

```
UMAMI_API_KEY
UMAMI_API_CLIENT_ENDPOINT
```

More details on accessing Umami Cloud can be found under [API key](/docs/track-events).

### Usage

Import the configured api-client and query using the available class methods.

```
import { client } from '@umami/api-client';

const { ok, data, status, error } = await client.getWebsites();
```

The result will come back in the following format.

```
ok: boolean;
status: number;
data?: T;
error?: any;
```

### API Client functions

Coming soon...

### Environment Variables

#### UMAMI_API_CLIENT_USER_ID = &lt;user uuid&gt;

The `USER_ID` of the User performing the API calls. Permission restrictions will apply based on application settings.

#### UMAMI_API_CLIENT_SECRET = &lt;random string&gt;

A random string used to generate unique values. This needs to match the `SECRET` used on the Umami application.

#### UMAMI_API_CLIENT_ENDPOINT = &lt;API endpoint&gt;

The endpoint of your Umami API. `example: https://{yoursever}/api/`

#### UMAMI_API_KEY = &lt;API Key string&gt;

A 32char string provided by Umami Cloud.
